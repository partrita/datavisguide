<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>code_of_conduct – Best Practices for Data Visualisation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./images/favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-5461c97904ec520e36bfbf5558800101.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-5VHDJ5PKRW"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-5VHDJ5PKRW', { 'anonymize_ip': true});
</script>


<meta property="og:title" content="Best Practices for Data Visualisation">
<meta property="og:image" content="https://royal-statistical-society.github.io/datavisguide/images/RSS_logo_colour.png">
<meta property="og:site_name" content="Best Practices for Data Visualisation">
<meta property="og:image:height" content="158">
<meta property="og:image:width" content="333">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/RSS_logo_colour.png" alt="RSS logo" class="navbar-logo light-content">
    <img src="./images/RSS_logo_colour.png" alt="RSS logo" class="navbar-logo dark-content">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Best Practices for Data Visualisation</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-royal-statistical-society-publications" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Royal Statistical Society publications</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-royal-statistical-society-publications">    
        <li>
    <a class="dropdown-item" href="https://academic.oup.com/jrsssa">
 <span class="dropdown-text">Journal of the Royal Statistical Society</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://realworlddatascience.net/">
 <span class="dropdown-text">Real World Data Science</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://academic.oup.com/jrssig">
 <span class="dropdown-text">Significance Magazine</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/royal-statistical-society/datavisguide"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#기여자-서약-행동-강령" id="toc-기여자-서약-행동-강령" class="nav-link active" data-scroll-target="#기여자-서약-행동-강령">기여자 서약 행동 강령</a>
  <ul class="collapse">
  <li><a href="#우리의-서약" id="toc-우리의-서약" class="nav-link" data-scroll-target="#우리의-서약">우리의 서약</a></li>
  <li><a href="#우리의-표준" id="toc-우리의-표준" class="nav-link" data-scroll-target="#우리의-표준">우리의 표준</a></li>
  <li><a href="#집행-책임" id="toc-집행-책임" class="nav-link" data-scroll-target="#집행-책임">집행 책임</a></li>
  <li><a href="#범위" id="toc-범위" class="nav-link" data-scroll-target="#범위">범위</a></li>
  <li><a href="#집행" id="toc-집행" class="nav-link" data-scroll-target="#집행">집행</a></li>
  <li><a href="#집행-지침" id="toc-집행-지침" class="nav-link" data-scroll-target="#집행-지침">집행 지침</a>
  <ul class="collapse">
  <li><a href="#교정" id="toc-교정" class="nav-link" data-scroll-target="#교정">1. 교정</a></li>
  <li><a href="#경고" id="toc-경고" class="nav-link" data-scroll-target="#경고">2. 경고</a></li>
  <li><a href="#일시적-차단" id="toc-일시적-차단" class="nav-link" data-scroll-target="#일시적-차단">3. 일시적 차단</a></li>
  <li><a href="#영구적-차단" id="toc-영구적-차단" class="nav-link" data-scroll-target="#영구적-차단">4. 영구적 차단</a></li>
  </ul></li>
  <li><a href="#출처" id="toc-출처" class="nav-link" data-scroll-target="#출처">출처</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/royal-statistical-society/datavisguide/edit/main/CODE_OF_CONDUCT.md" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/royal-statistical-society/datavisguide/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="기여자-서약-행동-강령" class="level1">
<h1>기여자 서약 행동 강령</h1>
<section id="우리의-서약" class="level2">
<h2 class="anchored" data-anchor-id="우리의-서약">우리의 서약</h2>
<p>회원, 기여자 및 리더로서 우리는 나이, 신체 크기, 눈에 띄거나 보이지 않는 장애, 민족, 성 특징, 성 정체성 및 표현, 경력 수준, 교육, 사회 경제적 지위, 국적, 외모, 인종, 카스트, 피부색, 종교 또는 성적 정체성 및 지향과 관계없이 커뮤니티 참여를 모두에게 괴롭힘 없는 경험으로 만들 것을 약속합니다.</p>
<p>우리는 개방적이고, 환영하며, 다양하고, 포용적이며, 건전한 커뮤니티에 기여하는 방식으로 행동하고 상호 작용할 것을 약속합니다.</p>
</section>
<section id="우리의-표준" class="level2">
<h2 class="anchored" data-anchor-id="우리의-표준">우리의 표준</h2>
<p>우리 커뮤니티의 긍정적인 환경에 기여하는 행동의 예는 다음과 같습니다:</p>
<ul>
<li>다른 사람들에게 공감과 친절을 베푸는 것</li>
<li>서로 다른 의견, 관점 및 경험을 존중하는 것</li>
<li>건설적인 피드백을 주고 정중하게 받아들이는 것</li>
<li>우리의 실수로 영향을 받은 사람들에게 책임을 지고 사과하며, 경험을 통해 배우는 것</li>
<li>개인으로서의 우리가 아니라 커뮤니티 전체에 가장 좋은 것에 초점을 맞추는 것</li>
</ul>
<p>용납될 수 없는 행동의 예는 다음과 같습니다:</p>
<ul>
<li>성적인 언어 또는 이미지의 사용, 어떤 종류의 성적 관심이나 접근</li>
<li>트롤링, 모욕적이거나 경멸적인 댓글, 개인적 또는 정치적 공격</li>
<li>공적 또는 사적인 괴롭힘</li>
<li>물리적 주소나 이메일 주소와 같은 타인의 개인 정보를 명시적인 허가 없이 게시하는 것</li>
<li>전문적인 환경에서 부적절하다고 합리적으로 간주될 수 있는 기타 행위</li>
</ul>
</section>
<section id="집행-책임" class="level2">
<h2 class="anchored" data-anchor-id="집행-책임">집행 책임</h2>
<p>커뮤니티 리더는 허용되는 행동의 표준을 명확히 하고 집행할 책임이 있으며, 부적절하거나 위협적이거나 불쾌하거나 해롭다고 판단되는 행동에 대해 적절하고 공정한 시정 조치를 취할 것입니다.</p>
<p>커뮤니티 리더는 이 행동 강령에 부합하지 않는 댓글, 커밋, 코드, 위키 편집, 이슈 및 기타 기여를 제거, 편집 또는 거부할 권리와 책임이 있으며, 적절한 경우 중재 결정의 이유를 전달할 것입니다.</p>
</section>
<section id="범위" class="level2">
<h2 class="anchored" data-anchor-id="범위">범위</h2>
<p>이 행동 강령은 모든 커뮤니티 공간(이 사이트 및 GitHub 리포지토리 포함) 내에서 적용됩니다. 또한 개인이 공적 공간에서 커뮤니티를 공식적으로 대표할 때도 적용됩니다. 커뮤니티를 대표하는 예로는 공식 이메일 주소 사용, 공식 소셜 미디어 계정을 통한 게시, 또는 온/오프라인 이벤트에서 임명된 대표자로서 활동하는 것 등이 있습니다.</p>
<p>RSS와의 서면 합의에 의한 사전 허가가 없는 한, 편집팀(Andreas Krause, Nicola Rennie, Anna Britten)만이 커뮤니티를 공식적으로 대표할 수 있음을 유의하십시오. 언론에 대한 논평은 임명된 대표자만 할 수 있으며 RSS 공보실의 승인을 받아야 합니다.</p>
</section>
<section id="집행" class="level2">
<h2 class="anchored" data-anchor-id="집행">집행</h2>
<p>학대, 괴롭힘 또는 기타 용납될 수 없는 행동의 사례는 집행 책임이 있는 커뮤니티 리더에게 <a href="mailto:a.britten@rss.org.uk">a.britten@rss.org.uk</a>로 신고할 수 있습니다. 모든 불만 사항은 신속하고 공정하게 검토 및 조사될 것입니다.</p>
<p>모든 커뮤니티 리더는 사건 신고자의 개인 정보와 보안을 존중할 의무가 있습니다.</p>
</section>
<section id="집행-지침" class="level2">
<h2 class="anchored" data-anchor-id="집행-지침">집행 지침</h2>
<p>커뮤니티 리더는 이 행동 강령을 위반했다고 판단되는 조치에 대한 결과를 결정할 때 다음 커뮤니티 영향 지침을 따를 것입니다:</p>
<section id="교정" class="level3">
<h3 class="anchored" data-anchor-id="교정">1. 교정</h3>
<p><strong>커뮤니티 영향</strong>: 커뮤니티에서 부적절하거나 환영받지 못하는 언어 또는 기타 행동의 사용.</p>
<p><strong>결과</strong>: 커뮤니티 리더의 비공개 서면 경고. 위반의 성격을 명확히 하고 왜 그 행동이 부적절했는지 설명합니다. 공개 사과가 요청될 수 있습니다.</p>
</section>
<section id="경고" class="level3">
<h3 class="anchored" data-anchor-id="경고">2. 경고</h3>
<p><strong>커뮤니티 영향</strong>: 단일 사건 또는 일련의 조치를 통한 위반.</p>
<p><strong>결과</strong>: 지속적인 행동에 대한 결과를 포함한 경고. 관련된 사람들과의 상호 작용 금지(행동 강령을 집행하는 사람들과의 원치 않는 상호 작용 포함)가 일정 기간 동안 적용됩니다. 여기에는 커뮤니티 공간뿐만 아니라 소셜 미디어와 같은 외부 채널에서의 상호 작용 회피도 포함됩니다. 이 조건을 위반하면 일시적 또는 영구적 차단으로 이어질 수 있습니다.</p>
</section>
<section id="일시적-차단" class="level3">
<h3 class="anchored" data-anchor-id="일시적-차단">3. 일시적 차단</h3>
<p><strong>커뮤니티 영향</strong>: 지속적인 부적절한 행동을 포함한 커뮤니티 표준의 심각한 위반.</p>
<p><strong>결과</strong>: 일정 기간 동안 커뮤니티와의 모든 종류의 상호 작용 또는 공개 통신의 일시적 차단. 이 기간 동안 관련된 사람들과의 공개적 또는 사적인 상호 작용(행동 강령을 집행하는 사람들과의 원치 않는 상호 작용 포함)은 허용되지 않습니다. 이 조건을 위반하면 영구적 차단으로 이어질 수 있습니다.</p>
</section>
<section id="영구적-차단" class="level3">
<h3 class="anchored" data-anchor-id="영구적-차단">4. 영구적 차단</h3>
<p><strong>커뮤니티 영향</strong>: 지속적인 부적절한 행동, 개인에 대한 괴롭힘, 또는 특정 집단에 대한 공격이나 비하를 포함한 커뮤니티 표준 위반 패턴의 입증.</p>
<p><strong>결과</strong>: 커뮤니티 내 모든 종류의 공개 상호 작용 영구 차단.</p>
</section>
</section>
<section id="출처" class="level2">
<h2 class="anchored" data-anchor-id="출처">출처</h2>
<p>이 행동 강령은 <a href="https://www.contributor-covenant.org">Contributor Covenant</a>, 버전 2.1에서 수정되었습니다. <a href="https://www.contributor-covenant.org/version/2/1/code_of_conduct.html" class="uri">https://www.contributor-covenant.org/version/2/1/code_of_conduct.html</a>에서 확인할 수 있습니다.</p>
<p>커뮤니티 영향 지침은 <a href="https://github.com/mozilla/diversity">Mozilla의 행동 강령 집행 사다리</a>에서 영감을 받았습니다.</p>
<p>이 행동 강령에 대한 일반적인 질문에 대한 답변은 <a href="https://www.contributor-covenant.org/faq" class="uri">https://www.contributor-covenant.org/faq</a>의 FAQ를 참조하십시오. 번역본은 <a href="https://www.contributor-covenant.org/translations" class="uri">https://www.contributor-covenant.org/translations</a>에서 확인할 수 있습니다.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/royal-statistical-society\.github\.io\/datavisguide\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright © 2024 Andreas Krause, Nicola Rennie and the <a href="https://rss.org.uk/">Royal Statistical Society</a>. <a href="https://doi.org/10.5281/zenodo.10600718"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.10600718.svg" class="img-fluid"></a></p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/royal-statistical-society/datavisguide/edit/main/CODE_OF_CONDUCT.md" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/royal-statistical-society/datavisguide/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>